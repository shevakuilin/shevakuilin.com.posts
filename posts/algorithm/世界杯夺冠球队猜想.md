# 世界杯夺冠球队猜想

地址：https://shevakuilin.com/worldcup-champion/

创建时间：2019-12-24

## 简介

以自 2009 年以来亲身验证的结果，来阐释利用「动态规划」思想创造夺冠公式，来预测历届世界杯夺冠球队

## 前言

这并不算是一篇传统意义上的计算机科学的「算法」文章，通篇只有思路推导和结果验证，并没有一行代码，也不会提供。因为与计算机经典算法「动态规划」中的思路不谋而合，所以拎到算法分类里来阐述。

先说**结论**，本文公式仅适用于场外可操纵性极小的国际大赛的**「单回合杯赛制」**淘汰赛的冠军预测，比如**世界杯**、**欧洲杯**，不适用于**欧洲冠军联赛**、**亚洲冠军联赛**等双回合淘汰制或决赛双回合赛制。

这是为了避免场外因素对公式计算结果的干扰，比如人为操纵，这就属于**非操作参与者完全不可预测**的状态。再比如双回合淘汰制，无法由一场比赛产生定性结果，且两回合比赛之前往往间隔数天，如果是俱乐部比赛还会穿插本国联赛、杯赛，对球员竞技状态、体能储备都会造成极大影响，以及间隔期间的场外突发因素等都会产生不可预测结果，这全部都是影响最终出线 / 夺冠权的**非本届赛事的场外影响因素**。

公式诞生于2009年5月，截止到文章发布，已**参与并验证**的冠军预测包括：

- 2010年南非世界杯冠军**西班牙**
- 2012年波兰-乌克兰欧洲杯冠军**西班牙**
- 2014年巴西世界杯冠军**德国**
- 2018年俄罗斯世界杯冠军**法国**。

**以上均是在参赛球员名单确定后不久，进行的预测，由于德国队自2009年重组后阵容稳定，所以2014年的冠军预测则是在2年前的2012进行的**

除了2016年法国欧洲杯没有参与预测之外，其余参与预测的国际顶级大赛冠军预测**全部命中**！

下文将详细阐释公式的推导过程与依据，以及在上述预测案例中的实际操作。

## 公式推导

首先记住一条单回合淘汰制杯赛的黄金准则：**单回合下无侥幸，胜者几近是强队**

这句话什么意思呢，就是说，单回合较量的比赛中，获胜的球队**极大概率**（P 趋近于1，0 < P <= 1）都是硬实力强的一方，因为这是刺刀见红的白刃战，双方都只有一次机会，不会有[超级拉科](https://zhuanlan.zhihu.com/p/87686458)和[诺坎普之夜]([https://baike.baidu.com/item/%E5%B7%B4%E8%90%A8%E9%80%86%E8%BD%AC/20473374?fromtitle=%E8%AF%BA%E5%9D%8E%E6%99%AE%E5%A5%87%E8%BF%B9&fromid=20475679](https://baike.baidu.com/item/巴萨逆转/20473374?fromtitle=诺坎普奇迹&fromid=20475679))的奇迹，尤其是世界杯，欧洲杯这种代表国家荣誉的国际足联大赛，对阵双方更是不遗余力地想要在九十分钟之内结束战斗，加时赛就意味着下一轮你的球队将比你的对手少三十分钟以上的体能储备，这往往是致命的隐疾。

其实严格意义上来讲，本公式不是特别适合欧洲杯这种参赛球队实力两极非常接近的赛事，最适合的场景就是世界杯，其参赛的32支球队之间这种两极差距非常明显。因为这涉及到公式中的一个重要项：**波动偏差值**，后面会详细阐述，这里就不展开了。

### 最优子结构

「最优子结构」是动态规划思想中核心概念之一，要符合「最优子结构」，子问题间必须互相独立。什么是夺冠的子问题？什么又叫互相独立？

#### 找出子问题

结合上面的黄金准则： “单回合下无侥幸，胜者几近是强队”，显而易见，想要胜出就必须成为所谓的强队，想要夺冠就必须比你碰到的球队更强。所以，夺冠 = 成为最强的球队，那么谁是最强的球队就是我们的**问题**。

如果我问你：如何成为最强的球队，你会如何作答？我猜你一定会说，当然是拥有最厉害的球员和主教练了。

而我想说的是，没错，道理很简单，就是这样。那我继续问你，你既然说拥有最厉害的球员和教练就可以，主教练姑且一个队可以只有一个，但是球员却有22人，你这个最厉害的名头是安排在他们当中的谁身上？

这个时候你可能想说，每个人都最厉害不行吗？

当然行啊，最强的球队 = 最厉害的22名球员 + 最厉害的主教练，简直完美！

我们平时所看的四年一届的世界杯，实际上叫做世界杯决赛圈比赛，是由全球五大洲的211个国家和地区历时近两年的所选拔出的32支各大洲代表队。由于我们只考虑决赛圈入围球队（没入围的也不用考虑夺冠了），所以除非重大调整，否则主教练在赛前都是不会被更换的。这也就意味着，球队的打法套路，排兵布阵，默契程度的变动可能性非常低，几乎可以忽略不计，**临阵换帅，兵家大忌**。

综上所述，我们只需要考虑球员的个人实力即可。

现在我们将球队按照球员的注册位置分为**锋线**、**中场线**、**后卫线**以及**门线**四部分，由于我们的问题是找到「最强的球队」，那么**子问题**自然就是「锋线最强」、「中场线最强」、「后卫线最强」、「门线最强」，如果每条线都是最强，那这支球队就是最强的。

#### 子问题互相独立

由于分成了四条线，每条线的球员之间不会互相制约，此消彼长，所以他们之间相互独立，互不干扰，这就是所谓「子问题互相独立」。

我们会对每个子问题进行单独计算，得出的结果相加，四条线综合得分最高，该队就是本届冠军。

于是我们得出一个简易公式：

$$V = S + M + B + K$$

其中`V`是球队综合得分，`S`是锋线得分，`M`是中场线得分，`B`是后防线得分，`K`是门线得分。

#### 防守赢得冠军

单回合淘汰制的杯赛存在**特殊性**，也存在一条准则：**进攻赢得比赛，防守赢得冠军**。但是，这里说的防守并不是指战术上的防守，而是球队实力上的防守，通常球队防守实力更强的球队能够走的更远，通俗点说，就是防守实力与夺冠几率成正比。

如果把球队整体实力按照`100%`来看待，那么四条线各占`25%`。无论是三后卫、四后卫还是五后卫甚至六后卫战术，中场都会设置至少一名拦截型球员，如果采用三后卫的组合，中场可搭配最少四名球员球员，防守球员至少占`6.25%`。有人说好的门将顶的上半支球队，其实远没有那么夸张，但门将的位置确实是最重要的，一夫当关万夫莫开，所以门将一个人也就独占了25%。

那么，一个球队在一场比赛当中投入的防守资源占比有多大呢，答案是至少 `6.25%` + `25%` + `25%` = `56.25%`。由此可见，防守实力是一支球队夺冠的关键，当有越多高质量防守球员出现在同一球队时，那么这支球队的实力就会非常强大。

这也是我近10年一直都不看好拥有梅西、阿圭罗、迪玛利亚等一众巨星的阿根廷的原因，孱弱的后防线使他们没有丝毫染指大力神杯的可能。

#### 板凳深度

球队的主力球员水平与替补球员水平之间的差距如果过大，会影响到同位置的得分平均值，现实中也是一样，替补无法补充主力被轮换情况下的战术作用，或者起到相同水平的其他战术作用，那么球队的总体实力就会缩水。

#### 得分规则

这里的得分规则指的是针对每个位置球员个人实力的得分，10/8/6/4/2/0分制，不会划分的很细，因为水平相近的球员之间很难产生质的差距，而过细的评分制也会因为个人的喜好而造成主观偏差过大。

- 10分 - 近两个赛季在该位置上处于顶级水平（放在任何欧洲豪门都是绝对主力，且状态爆棚）
- 8分 - 近两个赛季在该位置上处于优秀水平（现任欧洲豪门的绝对主力，状态正佳）
- 6分 - 近两个赛季在该位置上处于良好水平（能够参加欧冠的球队的绝对主力，状态不错）
- 4分 - 近两个赛季在该位置上处于一般水平（能够在欧洲五大联赛球队胜任主力）
- 2分 - 近两个赛季在该位置上处于平庸水平 (能够在欧洲五大联赛立足)
- 0分 - 近两个赛季在该位置上处于较差水平（无法在欧洲五大联赛立足）

#### 公式导出

经过前面的铺垫，我们开始导出我们的公式。前面已经得出了一个简易公式：

$$V = S + M + B + K$$

我们在此基础上进行完善，首先是对各个子问题进行完善，那么，锋线得分就等于：

$$S = \frac{(s1 + s2 ... sn)}{n} * 0.25 $$

锋线总得分等于**锋线平均分**乘以**锋线占比系数**

中场线得分：

$$M = \frac{(m1 + m2 ... mn)}{n} * 0.25$$

中场线总得分等于**中场线平均分**乘以**中场线占比系数**

后卫线总得分：

$$B = \frac{(b1 + b2 ... bn)}{n} * 0.25$$

后卫线总得分等于**后卫线平均分**乘以**后卫线占比系数**

门线总得分：

$$K = k * 0.25$$

门将位置比较特殊，由于杯赛制的特殊性，比赛周期短，对门将的体能几乎没有多少消耗，状态能够得到连续保证，所以进入淘汰赛阶段开始，有夺冠志向的球队基本不会更换门将，除非发生重大伤病，所以只用计算首发门将得分，替补二三号门将的出场时间仅在小组赛。

所以，展开后的公式为：

$$V = \frac{(s1 + s2 ... sn)}{n} * 0.25 +  \frac{(m1 + m2 ... mn)}{n} * 0.25 + \frac{(b1 + b2 ... bn)}{n} * 0.25 + k * 0.25$$

合并同类项后为：

$$V = (\frac{(s1 + s2 ... sn)}{n}  +  \frac{(m1 + m2 ... mn)}{n}  + \frac{(b1 + b2 ... bn)}{n} + k) * 0.25$$

## 公式验证